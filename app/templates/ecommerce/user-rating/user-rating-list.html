{% include "admin-includes/header.html" %}
{% load static %}{% load extras %}{% load humanize %}
<div class="page-wrapper">
    <div class="content">
        <div class="page-header">
            <div class="page-title">
                <h4>User Feedback </h4>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a class="white-text" href="/">Dashboard</a></li>
                        <li class="breadcrumb-item"><a class="white-text" href="{% url 'users:users_list' %}">Customers</a></li>
                        <li class="breadcrumb-item active">User Feedback </li>
                    </ol>
                </nav>
            </div>
            <div class="page-btn d-flex flex-wrap">
                <a class="btn btn-secondary" href="{% url 'wardrobe:wardrobe_list' %}"><i class="fa fa-angle-left me-1"></i> Back</a>
            </div>
        </div>
        
        <div class="activity mt-3">
            <div class="activity-box">
                <div class='d-flex flex-wrap justify-content-between'>
                    <!-- showing_objects-->
                    {% include "admin-includes/showing_objects.html" with listing_objects=ratings %}
                    <!-- showing_objects end-->
                </div>
                <ul class="activity-list">
                    {% for rating in ratings %}
                    <li class="d-flex">
                        <div class="activity-user">
                            {% if rating.user.profile_pic %}
                            <img alt="Lesley Grauer" src="{{rating.user.profile_pic.url}}" class=" img-fluid">
                            {% else %}
                            <img alt="Lesley Grauer" src="{% static 'admin-assets/images/dp.png' %}" class=" img-fluid">
                            {% endif %}
                        </div>
                        <div class="activity-content">
                            <span class=" d-flex" style="flex-direction: column;">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        {% for i in "12345" %}
                                            {% if forloop.counter <= rating.rating %}
                                                <i class="fa fa-star" style="color: #FFD700;"></i>   <!-- Filled star -->
                                            {% else %}
                                                <i class="fa fa-star" style="color: #b8b3b3ff;"></i>   <!-- Empty star -->
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                    <div class="activity-right-content d-flex gap-2">
                                        <span><a style="color:#1b378f;" href="{% url "users:view_user" rating.user.id %}">{{ rating.user.full_name|capfirst }}</a></span>
                                        <span>|
                                            {{ rating.created_on|naturaltime }}
                                        </span>
                                    </div>
                                </div>
                                <div class="description">
                                    <p style="margin-bottom:0 !important">{{rating.comment|safe}}</p>
                                </div>
                            </span>
                        </div>
                    </li>
                    {% empty %}
                    <ul class="activity-list">
                        <li class="no-activity">
                            <div class="activity-content">No Data Found</div>
                        </li>
                    </ul>
                    {% endfor %}
                </ul>
                <!-- pagination-->
                {% include "admin-includes/pagination.html" with listing_objects=ratings %}
                <!-- pagination end-->
            </div>
        </div>
    </div>
</div>
{% include "admin-includes/footer.html" %}
<script>
    function goBack(){
        window.history.back()
    }
</script>
